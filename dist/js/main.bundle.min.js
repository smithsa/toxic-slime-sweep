!function(){"use strict";var e,t={483:function(e,t,n){var s=n(537),i=n.n(s),o=n(645),a=n.n(o)()(i());a.push([e.id,'.captions{z-index:100;max-width:75%}.captions .cue{color:#fff;font-size:48px;background:rgba(0,0,0,.8);padding:5px 10px;width:fit-content;margin:0 auto;text-align:center;font-family:Arial,Helvetica,sans-serif}button{display:none;background:none;box-shadow:none;border:none}.question__stem{color:#fff;font-size:85px;font-family:Arial,Helvetica,sans-serif;font-weight:bold;transform:skew(-0.06turn, 18deg);opacity:0}.question__answer-choice{cursor:pointer;position:relative;display:block;margin:.5rem 20px .5rem 0;padding:.6em 1.8em .9em;border:none;background-color:#e0e3d3;font-family:monospace;font-size:2.5rem;font-weight:bold;text-transform:uppercase;color:#222;box-shadow:inset .1em -0.2em 0 4px #cfbd84,inset -0.1em -0.2em 0 4px #cfbd84,inset .08em -0.18em 0 5px #867234,inset -0.08em -0.18em 0 5px #867234,0 .25em 0 .15em rgba(0,0,0,.2);border-radius:.8rem;overflow:hidden;transition:all 90ms ease-in-out}.question__answer-choice:hover{background-color:#7ed8ee;box-shadow:inset .1em -0.2em 0 4px #63a8b9,inset -0.1em -0.2em 0 4px #63a8b9,inset .08em -0.18em 0 5px #29515a,inset -0.08em -0.18em 0 5px #29515a,0 .25em 0 .15em rgba(0,0,0,.2)}.question__answer-choice.active{background-color:#7ed8ee;padding:.7em 1.8em .8em;box-shadow:inset .05em -0.05em 0 2px,inset -0.05em -0.05em 0 2px #63a8b9,inset .03em -0.05em 0 2.5px #29515a,inset -0.03em -0.05em 0 2.5px #29515a,0 .25em 0 .15em rgba(0,0,0,.2)}.question__answer-choice[data-correct=false]{background-color:#ffebeb;box-shadow:inset .05em -0.05em 0 2px,inset -0.05em -0.05em 0 2px #d48a8a,inset .03em -0.05em 0 2.5px #903535,inset -0.03em -0.05em 0 2.5px #903535,0 .25em 0 .15em rgba(0,0,0,.2)}.question__answer-choice[data-correct=false]:after{position:absolute;content:"✘";color:#c0392b;font-size:56px;top:37px;right:13px}.question__answer-choice[data-correct=true]{background-color:#c1edbe;box-shadow:inset .05em -0.05em 0 2px,inset -0.05em -0.05em 0 2px #a1c2aa,inset .03em -0.05em 0 2.5px #4f7b5b,inset -0.03em -0.05em 0 2.5px #4f7b5b,0 .25em 0 .15em rgba(0,0,0,.2)}.question__answer-choice[data-correct=true]:after{position:absolute;content:"✓";color:#16a085;font-size:66px;top:27px;right:13px}.question__answer-choices{display:flex !important;animation:fadein 1s forwards;overflow:visible}.play__btn{cursor:pointer}.play__btn:hover{filter:hue-rotate(100deg)}.sound__btn{cursor:pointer;opacity:0;animation:fadein 1s forwards}.sound__btn img{width:90px;height:auto}.sound__btn:hover{filter:hue-rotate(100deg)}.shake{animation:shake 1s}@keyframes fadein{from{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./src/scss/global.scss","webpack://./src/scss/captions.scss"],names:[],mappings:"AAAA,UCAA,WACE,CAAA,aACA,CAAA,eACA,UACE,CAAA,cACA,CAAA,yBACA,CAAA,gBACA,CAAA,iBACA,CAAA,aACA,CAAA,iBACA,CAAA,sCACA,CAAA,ODRJ,YACE,CAAA,eACA,CAAA,eACA,CAAA,WACA,CAAA,gBAIA,UACE,CAAA,cACA,CAAA,sCACA,CAAA,gBACA,CAAA,gCACA,CAAA,SACA,CAAA,yBAGF,cAKE,CAAA,iBACA,CAAA,aACA,CAAA,yBACA,CAAA,uBACA,CAAA,WACA,CAAA,wBARW,CAAA,qBAUX,CAAA,gBACA,CAAA,gBACA,CAAA,wBACA,CAAA,UACA,CAAA,iLAEE,CAAA,mBAKF,CAAA,eACA,CAAA,+BACA,CAAA,+BAEA,wBAxBkB,CAAA,iLA2Bd,CAAA,gCAOJ,wBAlCkB,CAAA,uBAoChB,CAAA,iLAEE,CAAA,6CAOJ,wBACqB,CAAA,iLAIjB,CAAA,mDAKF,iBACE,CAAA,WACA,CAAA,aACA,CAAA,cACA,CAAA,QACA,CAAA,UACA,CAAA,4CAIJ,wBACe,CAAA,iLAIX,CAAA,kDAKF,iBACE,CAAA,WACA,CAAA,aACA,CAAA,cACA,CAAA,QACA,CAAA,UACA,CAAA,0BAKN,uBACE,CAAA,4BACA,CAAA,gBACA,CAAA,WAIJ,cACE,CAAA,iBACA,yBACE,CAAA,YAIJ,cACE,CAAA,SACA,CAAA,4BACA,CAAA,gBACA,UACE,CAAA,WACA,CAAA,kBAGF,yBACE,CAAA,OAIJ,kBACE,CAAA,kBAGF,KACE,SAAA,CAAA,GACA,SAAA,CAAA",sourcesContent:['@import "captions";\n@import "title";\n\nbutton {\n  display: none;\n  background: none;\n  box-shadow: none;\n  border:none;\n}\n\n.question {\n  &__stem {\n    color: #ffffff;\n    font-size: 85px;\n    font-family: Arial, Helvetica, sans-serif;\n    font-weight: bold;\n    transform: skew(-0.06turn, 18deg);\n    opacity: 0;\n  }\n\n  &__answer-choice {\n    $shadow-color: #cfbd84;\n    $bg-color: #e0e3d3;\n    $active-bg-color: #7ed8ee;\n    $active-shadow-color: #63a8b9;\n    cursor: pointer;\n    position: relative;\n    display: block;\n    margin: 0.5rem 20px 0.5rem 0;\n    padding: 0.6em 1.8em 0.9em;\n    border: none;\n    background-color: $bg-color;\n    font-family: monospace;\n    font-size: 2.5rem;\n    font-weight: bold;\n    text-transform: uppercase;\n    color: #222;\n    box-shadow:\n      inset 0.1em -0.2em 0 4px $shadow-color,\n      inset -0.1em -0.2em 0 4px $shadow-color,\n      inset 0.08em -0.18em 0 5px darken($shadow-color, 30%),\n      inset -0.08em -0.18em 0 5px darken($shadow-color, 30%),\n      0 0.25em 0 0.15em rgba(0,0,0,.2);\n    border-radius: 0.8rem;\n    overflow:hidden;\n    transition: all 90ms ease-in-out;\n\n    &:hover {\n      background-color: $active-bg-color;\n      box-shadow:\n        inset 0.1em -0.2em 0 4px $active-shadow-color,\n        inset -0.1em -0.2em 0 4px $active-shadow-color,\n        inset 0.08em -0.18em 0 5px darken($active-shadow-color, 30%),\n        inset -0.08em -0.18em 0 5px darken($active-shadow-color, 30%),\n        0 0.25em 0 0.15em rgba(0,0,0,.2);\n    }\n\n    &.active {\n      background-color: $active-bg-color;\n      padding: 0.7em 1.8em 0.8em;\n      box-shadow:\n        inset 0.05em -0.05em 0 2px ,\n        inset -0.05em -0.05em 0 2px $active-shadow-color,\n        inset 0.03em -0.05em 0 2.5px darken($active-shadow-color, 30%),\n        inset -0.03em -0.05em 0 2.5px darken($active-shadow-color, 30%),\n        0 0.25em 0 0.15em rgba(0,0,0,.2);\n    }\n\n    &[data-correct="false"] {\n      $incorrect-bg-red: #FFEBEB;\n      $incorrect-shadow-red: #d48a8a;\n      background-color: $incorrect-bg-red;\n      box-shadow:\n        inset 0.05em -0.05em 0 2px ,\n        inset -0.05em -0.05em 0 2px $incorrect-shadow-red,\n        inset 0.03em -0.05em 0 2.5px darken($incorrect-shadow-red, 30%),\n        inset -0.03em -0.05em 0 2.5px darken($incorrect-shadow-red, 30%),\n        0 0.25em 0 0.15em rgba(0,0,0,.2);\n      &:after {\n        position: absolute;\n        content: "✘";\n        color: #c0392b;\n        font-size: 56px;\n        top: 37px;\n        right: 13px;\n      }\n    }\n\n    &[data-correct="true"] {\n      $correct-bg: #c1edbe;\n      $correct-shadow: #a1c2aa;\n      background-color: $correct-bg;\n      box-shadow:\n        inset 0.05em -0.05em 0 2px ,\n        inset -0.05em -0.05em 0 2px $correct-shadow,\n        inset 0.03em -0.05em 0 2.5px darken($correct-shadow, 30%),\n        inset -0.03em -0.05em 0 2.5px darken($correct-shadow, 30%),\n        0 0.25em 0 0.15em rgba(0,0,0,.2);\n      &:after {\n        position: absolute;\n        content: "✓";\n        color: #16a085;\n        font-size: 66px;\n        top: 27px;\n        right: 13px;\n      }\n    }\n  }\n\n  &__answer-choices {\n    display: flex !important;\n    animation: fadein 1s forwards;\n    overflow: visible;\n  }\n}\n\n.play__btn {\n  cursor: pointer;\n  &:hover {\n    filter: hue-rotate(100deg);\n  }\n}\n\n.sound__btn {\n  cursor: pointer;\n  opacity: 0;\n  animation: fadein 1s forwards;\n  img {\n    width: 90px;\n    height: auto;\n  }\n\n  &:hover {\n    filter: hue-rotate(100deg);\n  }\n}\n\n.shake {\n  animation: shake 1s;\n}\n\n@keyframes fadein {\n  from { opacity: 0; }\n  to   { opacity: 1; }\n}\n',".captions {\n  z-index: 100;\n  max-width: 75%;\n  .cue {\n    color: white;\n    font-size: 48px;\n    background: rgba(0,0,0, .8);\n    padding:5px 10px;\n    width: fit-content;\n    margin: 0 auto;\n    text-align: center;\n    font-family: Arial, Helvetica, sans-serif;\n  }\n}\n"],sourceRoot:""}]),t.Z=a},0:function(e,t,n){var s=n(260),i=JSON.parse('{"slime1":{"x":155,"y":360},"slime2":{"x":410,"y":135},"slime3":{"x":565,"y":405},"slime4":{"x":250,"y":765},"slime5":{"x":638,"y":705},"slime6":{"x":1180,"y":825},"slime7":{"x":1467,"y":660},"slime8":{"x":1070,"y":345},"slime9":{"x":1300,"y":300},"slime10":{"x":795,"y":490}}');const o={BASE:"BASE",BOOT:"BOOT",TITLE:"TITLE",INTRODUCTION:"INTRODUCTION",GAME:"GAME"},a={TITLE:"Toxic Slime Sweep"},r={COLOR:"#0f4863",MODAL_POS:{x:500,y:100}};class l{constructor(e,t=""){return this.element=document.createElement(e),this.element.textContent=t,this}addAttributes(e={}){if(!e||e.constructor!==Object)return new Error('Parameter for addAriaAttributes should be an object. Example: {aria-label: "Play"');for(let t in e){let n=e[t];this.element.setAttribute(t,n)}return this}addClasses(...e){return e.forEach((e=>{this.element.classList.add(e)})),this}appendElements(e){return[].concat(e||[]).forEach((e=>{this.element.appendChild(e)})),this}setInnerHtml(e){return this.element.innerHTML=e,this}}var d=JSON.parse('{"title":"Toxic Slime Sweep","intro_start":"Yikes, there was an accident in Laboratory X","intro_beakers_exploded":"all the beakers exploded","intro_slime_everywhere":"and spilled toxic slime everywhere","intro_slime_expanding":"the slime is expanding quickly, solve the multiplication problems to clean up the slime","intro_end":"and save the laboratory!","instruct_look":"Look at the problem, click on an answer","instruct_answer_quickly":"Answer quickly, or the slime will multiply"}');class c extends s.Scene{constructor(e){super(e),this.captions=d,this.activeCaptions=[],this.captionBottomOffset=80}setSlimeState(e){this.game.registry.set("slime",e.slime),this.game.registry.set("slimeQueue",e.slimeQueue),this.game.registry.set("slimeOnScreen",e.slimeOnScreen)}getSlimeState(){return{slime:this.game.registry.get("slime"),slimeQueue:this.game.registry.get("slimeQueue"),slimeOnScreen:this.game.registry.get("slimeOnScreen")}}addOptionsSettings(){const e=new l("options-modal").addAttributes({open:!1,id:"options-modal",color:`${r.COLOR}`});this.add.dom(r.MODAL_POS.x,r.MODAL_POS.y,e.element);const t=new l("options-button").addAttributes({"modal-id":"options-modal",color:`${r.COLOR}`});this.add.dom(this.game.config.width-100,100,t.element).setDepth(1e3)}addGameBackground(){this.add.sprite(800,450,"background").setOrigin(.5).setScale(1.05,1)}play(e,t=null,n={}){return new Promise(function(s,i){try{this.game.registry.get("captionsOn")?this._playCaptionedSound(e,t,n).then((()=>{s(e)})).catch((e=>{i(e)})):this._playSound(e,t,n).then((()=>{s(e)})).catch((e=>{i(e)}))}catch(e){i(e)}}.bind(this))}_playSound(e,t,n){return e.manager.stopAll(),new Promise((function(s,i){try{let i;t?e.play(t,n):e.play(n),e.on("complete",(()=>s(i)))}catch(e){i(e)}}))}_playCaptionedSound(e,t=null,n={}){return new Promise(function(s,i){try{const i=Object.keys(e.markers);if(0===i.length)return this._startCaptionedAudio(e,t,n),e.on("complete",function(){this._removeCaptions(),e.removeAllListeners(),s(e)}.bind(this)),e;const o=this._SoundMarkerIterator(i);e.on("complete",(()=>{const t=o.next();t.done?(this._removeCaptions(),e.removeAllListeners(),s(e)):this._startCaptionedAudio(e,t.value,n)})),this._startCaptionedAudio(e,i[0],n)}catch(e){i(e)}}.bind(this))}_startCaptionedAudio(e,t=null,n={}){return this._removeCaptions(),e.on("play",function(){const n=this._addCaptions(t||e.key);this.activeCaptions.push(n)}.bind(this)),this._playSound(e,t,n),e}_removeCaptions(){this.activeCaptions.forEach((e=>{e.remove()}))}_addCaptions(e){this._removeCaptions();const t=new l("div");return t.addClasses("captions"),e in this.captions?t.appendElements(this._createCaptionCueElement(this.captions[e])):console.warn(`caption key: ${e} was not found in captions`),this.add.dom(this.game.config.width/2,this.game.config.height-this.captionBottomOffset,t.element).setOrigin(.5,1),t.element}_createCaptionCueElement(e){const t=new l("p",e);return t.addClasses("cue"),t.element}*_SoundMarkerIterator(e){for(let t=1;t<e.length;t++)yield e[t]}}var h=n(379),m=n.n(h),u=n(795),p=n.n(u),g=n(569),A=n.n(g),b=n(565),f=n.n(b),w=n(216),C=n.n(w),x=n(589),_=n.n(x),y=n(483),v={};v.styleTagTransform=_(),v.setAttributes=f(),v.insert=A().bind(null,"head"),v.domAPI=p(),v.insertStyleElement=C();m()(y.Z,v),y.Z&&y.Z.locals&&y.Z.locals;class S{constructor(e,t,n=""){this.ariaLabel=e,this.imageSrc=t,this.elementClass=n,this.builder=this._build(),this.element=this.builder.element}_build(){const e=new l("button");return e.addAttributes({"aria-label":this.ariaLabel,class:this.elementClass}).appendElements(new l("img").addAttributes({src:this.imageSrc}).element),e}}var k=JSON.parse('[{"stem":"3 × 1 = _","answerChoices":[2,1,3,4],"answer":3},{"stem":"3 × 2 = _","answerChoices":[2,5,6,4],"answer":6},{"stem":"3 × 3 = _","answerChoices":[9,5,6,12],"answer":9},{"stem":"3 × 4 = _","answerChoices":[9,5,6,12],"answer":12},{"stem":"3 × 5 = _","answerChoices":[10,8,6,15],"answer":15},{"stem":"3 × 6 = _","answerChoices":[12,9,6,18],"answer":18},{"stem":"3 × 7 = _","answerChoices":[10,21,6,24],"answer":21},{"stem":"3 × 8 = _","answerChoices":[24,11,48,27],"answer":24},{"stem":"3 × 9 = _","answerChoices":[27,32,12,30],"answer":27},{"stem":"3 × 10 = _","answerChoices":[30,37,13,33],"answer":30},{"stem":"3 × 11 = _","answerChoices":[31,14,33,13],"answer":33},{"stem":"1 × 3 = _","answerChoices":[2,1,3,4],"answer":3},{"stem":"2 × 3 = _","answerChoices":[2,5,6,4],"answer":6},{"stem":"4 × 3 = _","answerChoices":[9,5,6,12],"answer":12},{"stem":"5 × 3 = _","answerChoices":[10,8,6,15],"answer":15},{"stem":"6 × 3 = _","answerChoices":[12,9,6,18],"answer":18},{"stem":"7 × 3 = _","answerChoices":[10,21,6,24],"answer":21},{"stem":"8 × 3 = _","answerChoices":[24,11,48,27],"answer":24},{"stem":"9 × 3 = _","answerChoices":[27,32,12,30],"answer":27},{"stem":"10 × 3 = _","answerChoices":[30,37,13,33],"answer":30},{"stem":"11 × 3 = _","answerChoices":[31,14,33,13],"answer":33}]');class E extends HTMLElement{constructor(){super(),this.CAPTIONS_KEY="captionsOn",this.VOICE_SOUND_MANAGER_ID="voice",this.MUSIC_SOUND_MANAGER_ID="music",this._captionToggleHandler=this._captionToggleHandler.bind(this),this._voiceVolumeChangeHandler=this._voiceVolumeChangeHandler.bind(this),this._musicVolumeChangeHandler=this._musicVolumeChangeHandler.bind(this),this._closeClickHandler=this._closeClickHandler.bind(this),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML='\n      <style>\n        .sr-only {\n          position:absolute;\n          left:-10000px;\n          top:auto;\n          width:1px;\n          height:1px;\n          overflow:hidden;\n         }\n\n         .esg-modal {\n            width: 600px;\n            height: 550px;\n            font-family: Arial, Helvetica, sans-serif;\n            display: flex;\n            flex-direction: column;\n            align-content: start;\n            --primary-color: #000000;\n         }\n\n         .esg-modal__content {\n            background: #ffffff;\n            border-radius: 20px;\n            border: 5px solid var(--primary-color);\n            padding: 60px;\n            display: flex;\n            flex-direction: column;\n            justify-content: space-between;\n            align-content: center;\n         }\n\n         .esg-modal h2 {\n            font-size: 60px;\n            margin: 0 0 30px 0;\n            text-align: center;\n            letter-spacing: 1px;\n            background-color: var(--primary-color);\n            color: #ffffff;\n            width: 60%;\n            padding: 10px 20px;\n            border-radius: 50px;\n            margin: 0 auto -40px auto;\n            z-index: 1000;\n         }\n\n         .esg-modal__item {\n            margin-bottom: 30px;\n            margin-top: 30px;\n         }\n\n         .esg-modal__close {\n            cursor:pointer;\n            font-size: 32px;\n            max-width: 50%;\n            align-self: center;\n            border-radius: 10px;\n            padding: 10px 30px;\n            background: var(--primary-color);\n            color: #fff;\n            border: 5px solid var(--primary-color);\n            box-shadow: none;\n            letter-spacing: 1px;\n            font-weight: bold;\n            transition: .2s background ease-in;\n         }\n         .esg-modal__close:hover,\n         .esg-modal__close:focus {\n            background: #ffffff;\n            color: var(--primary-color);\n         }\n\n         .esg-modal[aria-hidden="false"] {\n            display: flex;\n         }\n\n         .esg-modal[aria-hidden="true"] {\n            display: none;\n         }\n      </style>\n      <div class="esg-modal" role="dialog"\n        aria-hidden="true"\n        aria-label="game options"\n        aria-describedby="esg-modal__desc">\n            <h2>Options</h2>\n            <div class="esg-modal__content">\n              <p id="esg-modal__desc" class="sr-only">Turn captioning on or off, or adjust the volume of music and voice.</p>\n              <div class="esg-modal__items">\n                  <div class="esg-modal__item">\n                    <esg-toggle id="captions-toggle" label="Captions"></esg-toggle>\n                  </div>\n                  <div class="esg-modal__item">\n                    <esg-slider id="voice-slider" class="esg-modal__item" label="Voice"></esg-slider>\n                  </div>\n                  <div class="esg-modal__item">\n                    <esg-slider id="music-slider" class="esg-modal__item" label="Music"></esg-slider>\n                  </div>\n              </div>\n              <button class="esg-modal__close" aria-label="close">Close</button>\n            </div>\n      </div>\n    ',this.captionsToggleElement=this.shadowRoot.getElementById("captions-toggle"),this.voiceSliderElement=this.shadowRoot.getElementById("voice-slider"),this.musicSliderElement=this.shadowRoot.getElementById("music-slider"),this.modalElement=this.shadowRoot.querySelector(".esg-modal"),this.closeButton=this.modalElement.querySelector(".esg-modal__close"),this.header=this.modalElement.querySelector("h2"),this.modalContent=this.modalElement.querySelector(".esg-modal__content")}_captionToggleHandler(e){"true"===e.detail.on?window.esparkGame.registry.set(this.CAPTIONS_KEY,!0):window.esparkGame.registry.set(this.CAPTIONS_KEY,!1)}_changeSoundManagerVolume(e,t){window.esparkGame.sound[t].volume=e.detail.value}_voiceVolumeChangeHandler(e){this._changeSoundManagerVolume(e,this.VOICE_SOUND_MANAGER_ID)}_musicVolumeChangeHandler(e){this._changeSoundManagerVolume(e,this.MUSIC_SOUND_MANAGER_ID)}_closeClickHandler(){this.open=this._getOppositeValueOfValueAttr(this.open),this.modalElement.setAttribute("aria-hidden",this._getOppositeValueOfValueAttr(this.open))}_getOppositeValueOfValueAttr(e){return"true"===e?"false":"true"}connectedCallback(){this.captionsToggleElement.addEventListener("toggle",this._captionToggleHandler),this.voiceSliderElement.addEventListener("volumechange",this._voiceVolumeChangeHandler),this.musicSliderElement.addEventListener("volumechange",this._musicVolumeChangeHandler),this.closeButton.addEventListener("click",this._closeClickHandler),this.modalElement.setAttribute("aria-hidden",this._getOppositeValueOfValueAttr(this.open)),this.voiceSliderElement.setAttribute("value",window.esparkGame.sound[this.VOICE_SOUND_MANAGER_ID].volume),this.musicSliderElement.setAttribute("value",window.esparkGame.sound[this.MUSIC_SOUND_MANAGER_ID].volume),this.captionsToggleElement.setAttribute("toggle-on",window.esparkGame.registry.get(this.CAPTIONS_KEY))}disconnectedCallback(){this.captionsToggleElement.removeEventListener("toggle",this._captionToggleHandler),this.voiceSliderElement.removeEventListener("volumechange",this._voiceVolumeChangeHandler),this.musicSliderElement.removeEventListener("volumechange",this._musicVolumeChangeHandler)}static get observedAttributes(){return["open","color"]}get open(){return this.getAttribute("open")}set open(e){this.setAttribute("open",e)}get color(){return this.getAttribute("color")}set color(e){this.icon.setAttribute("color",e)}attributeChangedCallback(e,t,n){switch(e){case"open":this.modalElement.setAttribute("aria-hidden",this._getOppositeValueOfValueAttr(n));break;case"color":this.modalElement.style.setProperty("--primary-color",n)}}}class O extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML='\n      <style>\n        button {\n            --button-primary-color: "darkgray";\n            --button-size: 90px;\n            font-size: 90px;\n            font-weight: bold;\n            cursor: pointer;\n            background: #ffffff;\n            width: var(--button-size);\n            height: var(--button-size);\n            line-height: 87px;\n            border-radius: 50%;\n            border-width: 1px;\n            border-color: rgba(0, 0, 0, .55);\n            justify-content: center;\n            align-content: center;\n            transition: .1s background-color ease-in-out;\n        }\n\n        svg {\n            fill: var(--button-primary-color);\n            transition: .1s fill ease-in-out;\n        }\n\n        button:hover {\n            background-color: var(--button-primary-color);\n        }\n\n        button:hover svg{\n            fill: #ffffff;\n        }\n      </style>\n      <button aria-label="Game Options">\n        <svg fill="#000000" xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 50 50" width="65px" height="65px">    <path d="M47.16,21.221l-5.91-0.966c-0.346-1.186-0.819-2.326-1.411-3.405l3.45-4.917c0.279-0.397,0.231-0.938-0.112-1.282 l-3.889-3.887c-0.347-0.346-0.893-0.391-1.291-0.104l-4.843,3.481c-1.089-0.602-2.239-1.08-3.432-1.427l-1.031-5.886 C28.607,2.35,28.192,2,27.706,2h-5.5c-0.49,0-0.908,0.355-0.987,0.839l-0.956,5.854c-1.2,0.345-2.352,0.818-3.437,1.412l-4.83-3.45 c-0.399-0.285-0.942-0.239-1.289,0.106L6.82,10.648c-0.343,0.343-0.391,0.883-0.112,1.28l3.399,4.863 c-0.605,1.095-1.087,2.254-1.438,3.46l-5.831,0.971c-0.482,0.08-0.836,0.498-0.836,0.986v5.5c0,0.485,0.348,0.9,0.825,0.985 l5.831,1.034c0.349,1.203,0.831,2.362,1.438,3.46l-3.441,4.813c-0.284,0.397-0.239,0.942,0.106,1.289l3.888,3.891 c0.343,0.343,0.884,0.391,1.281,0.112l4.87-3.411c1.093,0.601,2.248,1.078,3.445,1.424l0.976,5.861C21.3,47.647,21.717,48,22.206,48 h5.5c0.485,0,0.9-0.348,0.984-0.825l1.045-5.89c1.199-0.353,2.348-0.833,3.43-1.435l4.905,3.441 c0.398,0.281,0.938,0.232,1.282-0.111l3.888-3.891c0.346-0.347,0.391-0.894,0.104-1.292l-3.498-4.857 c0.593-1.08,1.064-2.222,1.407-3.408l5.918-1.039c0.479-0.084,0.827-0.5,0.827-0.985v-5.5C47.999,21.718,47.644,21.3,47.16,21.221z M25,32c-3.866,0-7-3.134-7-7c0-3.866,3.134-7,7-7s7,3.134,7,7C32,28.866,28.866,32,25,32z"/></svg>\n      </button>\n    ',this._handleOnClick=this._handleOnClick.bind(this),this.buttonElement=this.shadowRoot.querySelector("button"),this.icon=this.buttonElement.querySelector("svg"),this.modal=null}_handleOnClick(){null!=this.modal?(this.modal.setAttribute("open",!0),this.modal.focus()):console.warn("Unable to find specified options modal.")}connectedCallback(){this.modal=document.getElementById(this.modalId),this.buttonElement.addEventListener("click",this._handleOnClick)}disconnectedCallback(){this.buttonElement.removeEventListener("click",this._handleOnClick)}get modalId(){return this.getAttribute("modal-id")}set modalId(e){this.setAttribute("modal-id",e)}get color(){return this.getAttribute("modal-id")}set color(e){this.icon.setAttribute("modal-id",e)}static get observedAttributes(){return["modal-id","color"]}attributeChangedCallback(e,t,n){switch(e){case"modal-id":this.modal=document.getElementById(n);break;case"color":this.buttonElement.style.setProperty("--button-primary-color",n)}}}class T extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`\n      <style>\n        button {\n            cursor: pointer;\n            background: #fff;\n            box-shadow: none;\n            border:none;\n            font-size: 36px;\n            padding: 0;\n            letter-spacing: 2px;\n            border: 3px solid #555555;\n            border-radius: 30px;\n            overflow: hidden;\n        }\n        .esg-toggle-state {\n            padding: 8px 15px;\n        }\n\n        button span.on{\n            color: #555555;\n        }\n\n        button span.off{\n            background: #555555;\n            color: #fff;\n        }\n\n        button[aria-pressed="true"] {\n            border-color: var(--primary-color);\n        }\n\n        button[aria-pressed="true"] span.off {\n            background: none;\n            color: #555555;\n            opacity: 1;\n        }\n        button[aria-pressed="true"] span.on{\n            background: var(--primary-color);\n            color: #fff;\n        }\n        .es-label {\n          width: 210px;\n          font-size: 32px;\n          display: inline-block;\n          letter-spacing: 1px;\n        }\n      </style>\n      <div class="esg-toggle esg-component">\n        <span class="es-label">${this.label}</span>\n        <button type="button" role="switch" aria-label="${this.label}" id="${this.id}">\n            <span class="esg-toggle-state on">On</span><span class="esg-toggle-state off">Off</span>\n        </button>\n      </div>\n    `,this.shadowtoggleButton=this.shadowRoot.querySelector("button"),this.shadowtoggleButtonLabel=this.shadowRoot.querySelector(".es-label"),this.handleToggle=this.handleToggle.bind(this),this.toggleEvent=new CustomEvent("toggle",{detail:{on:this.toggleOn}})}handleToggle(){this.shadowtoggleButton.toggleAttribute("aria-pressed"),this.toggleOn="true"!==this.toggleOn.toLowerCase(),this.toggleEvent.detail.on=this.toggleOn,this.dispatchEvent(this.toggleEvent)}connectedCallback(){this.shadowtoggleButton.addEventListener("click",this.handleToggle)}disconnectedCallback(){this.shadowtoggleButton.removeEventListener("click",this.handleToggle)}static get observedAttributes(){return["id","label","toggle-on"]}get id(){return this.getAttribute("id")}get label(){return this.getAttribute("label")}get toggleOn(){return this.getAttribute("toggle-on")}set id(e){this.setAttribute("id",e)}set label(e){this.setAttribute("label",e)}set toggleOn(e){this.setAttribute("toggle-on",e)}attributeChangedCallback(e,t,n){switch(e){case"label":this.shadowtoggleButtonLabel.innerHTML=n,this.shadowtoggleButton.setAttribute("aria-label",n);break;case"id":this.shadowtoggleButton.id=n;break;case"toggle-on":this.shadowtoggleButton.setAttribute("aria-pressed",n)}}}class B extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"}),this.shadowRoot.innerHTML=`\n      <style>\n        .esg-slider {\n            display: flex;\n            justify-content: space-between;\n            align-content: center;\n        }\n\n        .esg-slider__input {\n            flex-grow: 1;\n            cursor: pointer;\n            height: 25px;\n        }\n\n        .esg-slider__input::-moz-range-thumb,\n        .esg-slider__input::-webkit-slider-thumb {\n            -webkit-appearance: none;\n            appearance: none;\n            width: 25px;\n            height: 25px;\n            background: var(--primary-color);\n            cursor: pointer;\n        }\n\n        label {\n          display: inline-block;\n          font-size: 32px;\n          width: 210px;\n          letter-spacing: 1px;\n        }\n\n        input[type=range] {\n          height: 34px;\n          -webkit-appearance: none;\n          margin: 10px 0;\n          background: none;\n        }\n\n        input[type=range]::-webkit-slider-runnable-track {\n          width: 100%;\n          height: 15px;\n          cursor: pointer;\n          animate: 0.2s;\n          background: var(--primary-color);\n          border-radius: 25px;\n        }\n\n        input[type=range]::-webkit-slider-thumb {\n          box-shadow: 1px 1px 1px #000031;\n          border: 1px solid rgba(0,0,0, .9);\n          height: 38px;\n          width: 38px;\n          border-radius: 50%;\n          background: #FFFFFF;\n          cursor: pointer;\n          -webkit-appearance: none;\n          margin-top: -13px;\n        }\n        input[type=range]:focus::-webkit-slider-runnable-track {\n          background: var(--primary-color);\n        }\n        input[type=range]::-moz-range-track {\n          width: 100%;\n          height: 11px;\n          cursor: pointer;\n          animate: 0.2s;\n          box-shadow: 1px 1px 1px #000000;\n          background: #0f4863;\n          border: 0px solid #010101;\n        }\n        input[type=range]::-moz-range-thumb {\n          box-shadow: 1px 1px 1px #000031;\n          border: 1px solid rgba(0,0,0, .9);\n          height: 38px;\n          width: 38px;\n          border-radius: 50%;\n          background: #FFFFFF;\n          cursor: pointer;\n          -webkit-appearance: none;\n          margin-top: -13px;\n        }\n      </style>\n      <div class="esg-slider esg-element">\n        <label for="${this.id}">${this.label}</label>\n        <input type="range" step="0.1" min="0" max="1" value="${this.value}" id="${this.id}" class="esg-slider__input">\n      </div>\n    `,this.labelElement=this.shadowRoot.querySelector(".esg-slider label"),this.inputElement=this.shadowRoot.querySelector(".esg-slider input"),this.handleChange=this.handleChange.bind(this),this.volumeChangeEvent=new CustomEvent("volumechange",{detail:{value:this.value}})}handleChange(){this.value=this.inputElement.value,this.volumeChangeEvent.detail.value=this.inputElement.value,this.dispatchEvent(this.volumeChangeEvent)}connectedCallback(){this.inputElement.addEventListener("change",this.handleChange)}disconnectedCallback(){this.inputElement.removeEventListener("change",this.handleChange)}static get observedAttributes(){return["id","label","value"]}get id(){return this.getAttribute("id")}get label(){return this.getAttribute("label")}get value(){return this.getAttribute("value")}set id(e){this.setAttribute("id",e)}set label(e){this.setAttribute("label",e)}set value(e){this.setAttribute("value",e)}attributeChangedCallback(e,t,n){switch(e){case"label":this.labelElement.textContent=n;break;case"id":this.labelElement.setAttribute("for",n),this.inputElement.id=n;break;case"value":this.inputElement.setAttribute("value",n)}}}customElements.define("options-button",O),customElements.define("options-modal",E),customElements.define("esg-slider",B),customElements.define("esg-toggle",T);const L={type:s.CANVAS,gameTitle:a.TITLE,width:1600,height:900,backgroundColor:"#fff",parent:"game-container",dom:{createContainer:!0},scale:{mode:s.Scale.FIT,autoCenter:s.Scale.CENTER_BOTH},scene:[class extends c{constructor(){super({key:o.BOOT})}preload(){this.load.audio("intro","./voice/intro.mp3"),this.load.audio("title","./voice/title.mp3"),this.load.audio("instructions","./voice/instructions.mp3"),this.load.audio("wrong1","./voice/wrong1.mp3"),this.load.audio("wrong2","./voice/wrong2.mp3"),this.load.audio("wrong3","./voice/wrong3.mp3"),this.load.audio("correct1","./voice/correct1.mp3"),this.load.audio("correct2","./voice/correct2.mp3"),this.load.audio("correct3","./voice/correct3.mp3"),this.load.audio("correct4","./voice/correct4.mp3"),this.load.audio("correct5","./voice/correct5.mp3"),this.load.audio("solution1","./voice/solution1.mp3"),this.load.audio("solution2","./voice/solution2.mp3"),this.load.audio("complete","./voice/end_allComplete.mp3"),this.load.audio("fewLeft","./voice/end_fewLeft.mp3"),this.load.path="./img/",this.load.image("background","bg.jpg"),this.load.image("alarm","red_glow_fx.png"),this.load.image("leftDoor1","left-door-1.png"),this.load.image("leftDoor2","left-door-2.png"),this.load.image("leftDoor3","left-door-3.png"),this.load.image("leftDoor4","left-door-4.png"),this.load.image("rightDoor1","right-door-1.png"),this.load.image("rightDoor2","right-door-2.png"),this.load.image("rightDoor3","right-door-3.png"),this.load.image("rightDoor4","right-door-4.png"),this.load.image("replayButton","btn_replay.png"),this.load.multiatlas("beaker","beaker_atlas.json"),this.load.multiatlas("glass","glass_atlas.json"),this.load.multiatlas("splat","splat_atlas.json"),this.load.multiatlas("floatingSlime","slime_fx_atlas.json"),this.load.multiatlas("slime","./slime_atlas.json")}create(){this.scene.start(o.TITLE)}},class extends c{constructor(){super({key:o.TITLE})}preload(){}async create(){this.addGameBackground();const e=this.addGameTitle(),t=this.addPlayButton();t.element.addEventListener("click",(async()=>{const n=this.game.sound.voice.add("title");await this.play(n),t.gameObject.alpha=0,e.gameObject.alpha=0,this.scene.launch(o.INTRODUCTION)}),{once:!0}),this.addFloatingSlimeToSmallRectangularTank(),this.addFloatingSlimeToLargeRectangularTank(),this.addFloatingSlimeToCylindricalTank(),this.addOptionsSettings()}addGameTitle(){const e=new l("img");e.addAttributes({src:"./img/title.png","aria-label":`${a.TITLE}`,width:"1000px"});const t=this.add.dom(this.game.config.width/2,100,e.element).setOrigin(.5);return{element:e.element,gameObject:t}}addPlayButton(){const e=new S("Play Game","./img/btn_play.png","play__btn"),t=this.add.dom(this.game.config.width/2-130,this.game.config.height/2+50,e.element);return{element:e.element,gameObject:t}}addFloatingSlimeToCylindricalTank(){const e=this.add.sprite(1533,230,"floatingSlime","fx_slime1.png"),t=this.add.sprite(1533,500,"floatingSlime","fx_slime3.png"),n=this.add.sprite(1550,425,"floatingSlime","fx_slimeDot.png"),s=this.add.sprite(1550,130,"floatingSlime","fx_slime2.png");t.setScale(.8),s.setScale(.7),n.setScale(.6),this.createFloatSlimeTween(e,e.y+3,2800,.001),this.createFloatSlimeTween(t,t.y-5,3e3,-.001),this.createFloatSlimeTween(n,n.y+6,2500,.002),this.createFloatSlimeTween(s,s.y+8,2900,-.001)}addFloatingSlimeToSmallRectangularTank(){const e=this.add.sprite(160,220,"floatingSlime","fx_slimeDot.png"),t=this.add.sprite(140,240,"floatingSlime","fx_slimeDot.png"),n=this.add.sprite(100,220,"floatingSlime","fx_slime2.png");e.setScale(.6),t.setScale(.6),n.setScale(.5),this.createFloatSlimeTween(e,e.y+3,2800),this.createFloatSlimeTween(t,t.y-3,2300),this.createFloatSlimeTween(n,n.y+4,2500,.001)}addFloatingSlimeToLargeRectangularTank(){const e=this.add.sprite(330,200,"floatingSlime","fx_slimeDot.png"),t=this.add.sprite(360,230,"floatingSlime","fx_slimeDot.png"),n=this.add.sprite(335,360,"floatingSlime","fx_slime3.png"),s=this.add.sprite(355,450,"floatingSlime","fx_slime1.png"),i=this.add.sprite(340,290,"floatingSlime","fx_slime2.png");e.setScale(.7),t.setScale(.4),n.setScale(.6),s.setScale(.7),i.setScale(.6),this.createFloatSlimeTween(e,e.y+5,3e3),this.createFloatSlimeTween(t,t.y-5,2100),this.createFloatSlimeTween(n,n.y+6,2900,-.001),this.createFloatSlimeTween(s,s.y-6,2900,.001),this.createFloatSlimeTween(i,i.y-6,2900,.001)}createFloatSlimeTween(e,t,n,s=null){return this.tweens.add({targets:e,y:t,loop:250,duration:n,ease:"Sine.easeInOut",scaleY:e.scaleY-.05,scaleX:e.scaleX-.05,easeParams:[],yoyo:!0,onUpdate:function(){null!=s&&e.setRotation(e.rotation+=s)}})}},class extends c{constructor(){super({key:o.INTRODUCTION}),this.glassParticles=null,this.slimeSplatterParticles=null}preload(){this.glassParticles=this.add.particles("glass"),this.slimeSplatterParticles=this.add.particles("splat")}async create(){const e=this.add.image(1200,750,"beaker","beaker1.png"),t=this.add.image(575,630,"beaker","beaker2.png"),n=this.add.image(290,645,"beaker","beaker3.png"),s=this.game.sound.voice.add("intro");s.addMarker({name:"intro_start",start:0,duration:3}),s.addMarker({name:"intro_beakers_exploded",start:3,duration:2}),s.addMarker({name:"intro_slime_everywhere",start:5,duration:2.9}),s.addMarker({name:"intro_slime_expanding",start:7.9,duration:5.3}),s.addMarker({name:"intro_end",start:13.2,duration:2}),this.addSlimeObjects(),await this.explodeBeaker(e,1200,700),await this.explodeBeaker(t,575,600),await this.explodeBeaker(n,290,645),this.setOffAlarm();const i=this.time.delayedCall(500,(()=>{this.play(s).finally((()=>{this.scene.launch(o.GAME)})),i.destroy()}),[],this);for(let e=0;e<6;e++)await this.addSlimeToScreen();await this.closeDoor("leftDoor1",105,480,[{key:"leftDoor1"},{key:"leftDoor2"},{key:"leftDoor3"},{key:"leftDoor4",duration:50}]),await this.closeDoor("rightDoor1",1278,485,[{key:"rightDoor1"},{key:"rightDoor2"},{key:"rightDoor3"},{key:"rightDoor4",duration:50}])}addSlimeObjects(){let{slime:e,slimeQueue:t,slimeOnScreen:n}=this.getSlimeState();t.map((t=>{const n=this.add.sprite(e[t].x,e[t].y,"slime",`${t}.png`);e[t].object=n,n.setAlpha(0),n.setDepth(1)})),this.setSlimeState({slime:e,slimeQueue:t,slimeOnScreen:n})}async addSlimeToScreen(){return new Promise(((e,t)=>{let{slime:n,slimeQueue:s,slimeOnScreen:i}=this.getSlimeState(),o=s.pop();i.push(o);const a=n[o].object;this.expandSlimeTween(a).finally((()=>{e(a)})),n[o].object=a,this.setSlimeState({slime:n,slimeQueue:s,slimeOnScreen:i})}))}expandSlimeTween(e){return new Promise(((t,n)=>{this.tweens.add({targets:e,loop:0,duration:1300,scaleX:{from:.5,to:1},scaleY:{from:.5,to:1},alpha:{from:0,to:1},ease:"Linear",yoyo:!1,onComplete:()=>{t(!0)}})}))}setOffAlarm(){const e=this.add.image(1250,190,"alarm").setDepth(2);this.tweens.add({targets:e,loop:3,duration:2e3,scaleX:2,scaleY:2,alpha:{from:0,to:1},ease:"Linear",yoyo:!0})}async explodeBeaker(e,t,n){return new Promise(((s,i)=>{const o=this.createGlassShatterEmitter(),a=this.createSlimeSplatterEmitter();a.onParticleDeath((e=>{s(!0)})),o.explode(15,t,n),a.explode(15,t,n),this.time.delayedCall(200,(()=>{e.destroy()}),[e],this)}))}async closeDoor(e,t,n,s){return new Promise(((i,o)=>{const a=this.anims.create({key:"closeDoor",frames:s,frameRate:8,repeat:0});this.add.sprite(t,n,e).play("closeDoor").once("animationcomplete",(function(){a.destroy(),i(!0)}),this)}))}createGlassShatterEmitter(){return this.glassParticles.createEmitter({frame:["fx_glass1.png","fx_glass2.png","fx_glass3.png"],speed:{min:100,max:300},lifespan:500,blendMode:"ADD",frequency:15,maxParticles:10,scale:{start:1,end:0,random:!0},alpha:{start:1,end:0},rotate:{start:0,end:180,random:!0},on:!1})}createSlimeSplatterEmitter(){return this.slimeSplatterParticles.createEmitter({frame:["fx_splat1.png","fx_splat2.png","fx_splat3.png","fx_splat4.png"],speed:{min:100,max:300},lifespan:1e3,blendMode:"ADD",frequency:15,maxParticles:15,scale:{start:.5,end:0},alpha:{start:0,end:1},rotate:{start:0,end:90,random:!0},on:!1})}},class extends c{constructor(){super({key:o.GAME}),this.correctSounds=[],this.wrongSounds=[],this.solutionsSounds=[],this.questionBank=k,this.questions=this.questionsGenerator(),this.currentQuestionStemElement=null,this.currentAnswerChoicesElement=null,this.buttons=null,this.instructionsSound=null,this.currentAnswer=null,this.currentQuestionAttempts=0,this.maxAttempts=2}preload(){}async create(){this.questionBank.sort((()=>.5-Math.random()));const e=new S("Replay Instructions","./img/btn_sound.png","sound__btn");e.element.addEventListener("click",this.playInstructions.bind(this)),this.instructionsSound=this.game.sound.voice.add("instructions"),this.instructionsSound.addMarker({name:"instruct_look",start:0,duration:2.5}),this.instructionsSound.addMarker({name:"instruct_answer_quickly",start:2.6,duration:3}),this.loadAnswerChoiceResponseSounds();let{value:t}=this.questions.next();this.currentAnswer=t.answer,await this.addQuestionStem(t.stem);const n=this.time.delayedCall(1e3,(()=>{this.playInstructions().finally(function(){this.loadAnswerChoiceButtons(t.answerChoices),this.add.dom(1390,100,e.element)}.bind(this)),n.destroy()}),[],this)}delayedNextQuestion(e){const t=this.time.delayedCall(e,(function(){this.nextQuestion(),t.destroy()}),[],this)}async nextQuestion(){this.resetCorrectAttributeValueOnButtons();let{value:e,done:t}=this.questions.next();t?console.warn("No more questions exist to continue"):(this.currentAnswer=e.answer,this.addNewAnswerChoices(e.answerChoices),await this.addQuestionStem(e.stem))}async validateAnswerChoice(e){if(this.resetCorrectAttributeValueOnButtons(),e.target.dataset.value==this.currentAnswer)e.target.dataset.correct=!0,this.currentQuestionAttempts=0,this.playRandomSound(this.correctSounds),await this.removeSlime(),this.delayedNextQuestion(2e3);else{if(this.shakeAnswerChoices(),e.target.dataset.correct=!1,this.currentQuestionAttempts===this.maxAttempts-1)return this.currentQuestionAttempts=0,this.playRandomSound(this.solutionsSounds),this.revealCorrectAnswer(),void this.delayedNextQuestion(3e3);this.currentQuestionAttempts++,await this.playRandomSound(this.wrongSounds),await this.addSlime(),this.resetCorrectAttributeValueOnButtons()}}addSlime(){return new Promise(function(e,t){try{let{slime:t,slimeQueue:n,slimeOnScreen:s}=this.getSlimeState(),i=n.pop();s.push(i);const o=t[i].object;this.tweens.add({targets:o,loop:0,duration:1500,scaleX:{from:0,to:1},scaleY:{from:0,to:1},alpha:{from:0,to:1},ease:"Linear",onComplete:()=>{e(!0)}}),this.setSlimeState({slime:t,slimeQueue:n,slimeOnScreen:s})}catch(e){t(e)}}.bind(this))}removeSlime(){return new Promise(function(e,t){try{let{slime:t,slimeQueue:n,slimeOnScreen:s}=this.getSlimeState(),i=s.pop();n.push(i);const o=t[i].object;this.tweens.add({targets:o,loop:0,duration:1e3,scaleX:{from:1,to:0},scaleY:{from:1,to:0},alpha:{from:1,to:0},ease:"Linear",onComplete:()=>{e(!0)}}),this.setSlimeState({slime:t,slimeQueue:n,slimeOnScreen:s})}catch(e){t(e)}}.bind(this))}playInstructions(){return this.play(this.instructionsSound)}playRandomSound(e){let t=this.getRandomIntInclusive(0,e.length-1);this.play(e[t])}addNewAnswerChoices(e){e.forEach(((e,t)=>{this.buttons[t].textContent=e,this.buttons[t].dataset.value=e}))}loadAnswerChoiceResponseSounds(){for(let e=1;e<6;e++)this.correctSounds.push(this.game.sound.voice.add(`correct${e}`));for(let e=1;e<4;e++)this.wrongSounds.push(this.game.sound.voice.add(`wrong${e}`));for(let e=1;e<3;e++)this.solutionsSounds.push(this.game.sound.voice.add(`solution${e}`))}loadAnswerChoiceButtons(e){null!=this.currentAnswerChoicesElement&&this.currentAnswerChoicesElement.destroy();let t=[];for(let n=0;n<e.length;n++){const s=new l("button",`${e[n]}`);s.addAttributes({class:"question__answer-choice","data-value":`${e[n]}`}),s.element.addEventListener("click",this.validateAnswerChoice.bind(this),!0),t.push(s.element)}this.buttons=t;const n=new l("div").addAttributes({class:"question__answer-choices",style:"opacity: 0"});n.appendElements(t),this.buttonsContainerElement=n.element,this.currentAnswerChoicesElement=this.add.dom(800,560,n.element).setDepth(-1)}addQuestionStem(e){return new Promise(function(t,n){try{null!=this.currentQuestionStemElement&&(this.currentQuestionStemElement.setAlpha(0),this.currentQuestionStemElement.destroy());let n=new l("div",e).addAttributes({class:"question__stem"});this.currentQuestionStemElement=this.add.dom(895,250,n.element),this.currentQuestionStemElement.setSkew(0,-.15).setDepth(-1).setAlpha(0),this.tweens.add({targets:this.currentQuestionStemElement,alpha:{from:0,to:1},duration:500,delay:500,onComplete:()=>{t(!0)}})}catch(e){n(e)}}.bind(this))}*questionsGenerator(){for(let e in this.questionBank)yield this.questionBank[e]}getRandomIntInclusive(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1)+e)}resetCorrectAttributeValueOnButtons(){this.buttons.forEach((e=>e.dataset.correct=""))}revealCorrectAnswer(){for(let e=0;e<this.buttons.length;e++)if(this.currentAnswer==this.buttons[e].textContent)return void(this.buttons[e].dataset.correct="true")}shakeAnswerChoices(){this.tweens.add({targets:this.currentAnswerChoicesElement,loop:1,duration:100,x:{from:this.currentAnswerChoicesElement.x-3,to:this.currentAnswerChoicesElement.x+3},ease:"Quad.easeInOut",yoyo:!0})}}],callbacks:{preBoot:function(e){e.sound.voice=s.Sound.SoundManagerCreator.create(e),e.sound.sfx=s.Sound.SoundManagerCreator.create(e),e.sound.music=s.Sound.SoundManagerCreator.create(e)}}};window.esparkGame=new s.Game(L),window.esparkGame.registry.set({backgroundMusicOn:!0,captionsOn:!0,slime:i,slimeQueue:Object.keys(i).sort((()=>.5-Math.random())),slimeOnScreen:[]})}},n={};function s(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={id:e,exports:{}};return t[e].call(o.exports,o,o.exports,s),o.exports}s.m=t,e=[],s.O=function(t,n,i,o){if(!n){var a=1/0;for(c=0;c<e.length;c++){n=e[c][0],i=e[c][1],o=e[c][2];for(var r=!0,l=0;l<n.length;l++)(!1&o||a>=o)&&Object.keys(s.O).every((function(e){return s.O[e](n[l])}))?n.splice(l--,1):(r=!1,o<a&&(a=o));if(r){e.splice(c--,1);var d=i();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[n,i,o]},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,{a:t}),t},s.d=function(e,t){for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={179:0};s.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,o,a=n[0],r=n[1],l=n[2],d=0;if(a.some((function(t){return 0!==e[t]}))){for(i in r)s.o(r,i)&&(s.m[i]=r[i]);if(l)var c=l(s)}for(t&&t(n);d<a.length;d++)o=a[d],s.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return s.O(c)},n=self.webpackChunkeSpark_game_dev_boilerplate=self.webpackChunkeSpark_game_dev_boilerplate||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var i=s.O(void 0,[216],(function(){return s(0)}));i=s.O(i)}();
//# sourceMappingURL=main.bundle.min.js.map